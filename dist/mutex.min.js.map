{"version":3,"file":"mutex.min.js","sources":["../mutex.js"],"names":["MutexJs","RETRY_MS","_queues","_running","Semaphore","_locks","_pruning","_lock","id","name","expiresAt","expirationCallback","this","get","expiresInMs","unlocked","lock","_get","Date","getTime","_guid","push","_beginPruning","release","filter","el","key","s4","Math","floor","random","toString","substring","_pruneExpired","forEach","call","length","setTimeout","_reset","queable","callback","timeoutCallback","maxWait","duration","q","fn","wait","onTimeout","onExpired","success","maxWaitMs","expiry","item","undefined","_queueItem","lockFor","onExpiration","_run","foundOne","queue","shift","msg","module","exports"],"mappings":";;AACA,GAAIA,UACAC,SAAU,GACVC,WACAC,UAAU,EAEVC,WAEIC,UACAC,UAAU,EAGVC,MAAO,SAAUC,EAAIC,EAAMC,EAAWC,GAClC,YACAC,MAAKJ,GAAKA,EACVI,KAAKH,KAAOA,EACZG,KAAKF,UAAYA,EACjBE,KAAKD,mBAAqBA,GAI9BE,IAAK,SAAUJ,EAAMK,EAAaH,GAC9B,YACA,IAAID,GAAY,KACZK,GAAW,EACXC,EAAOhB,QAAQI,UAAUa,KAAKR,EAUlC,IARIK,IACAJ,GAAY,GAAIQ,OAAOC,UAAYL,GAGlCE,IACDD,GAAW,GAGXA,EAAU,CACV,GAAIP,GAAKR,QAAQI,UAAUgB,OAI3B,OAHApB,SAAQI,UAAUC,OAAOgB,KACrB,GAAIrB,SAAQI,UAAUG,MAAMC,EAAIC,EAAMC,EAAWC,IACrDX,QAAQI,UAAUkB,gBACXd,EAGX,MAAO,OAIXe,QAAS,SAAUf,GACf,YACAR,SAAQI,UAAUC,OAASL,QAAQI,UAAUC,OAAOmB,OAAO,SAAUC,GACjE,MAAOA,GAAGjB,KAAOA,KAKzBS,KAAM,SAAUR,GACZ,YACA,KAAK,GAAIiB,KAAO1B,SAAQI,UAAUC,OAC9B,GAAIL,QAAQI,UAAUC,OAAOqB,GAAKjB,OAASA,EACvC,MAAOT,SAAQI,UAAUC,OAAOqB,EAGxC,OAAO,OAIXN,MAAO,WACH,QAASO,KACL,MAAOC,MAAKC,MAA4B,OAArB,EAAID,KAAKE,WACvBC,SAAS,IACTC,UAAU,GAEnB,MAAOL,KAAKA,IAAK,IAAIA,IAAK,IAAIA,IAAK,IAAIA,IAAK,IAAIA,IAAKA,IAAKA,KAG9DL,cAAe,WACNtB,QAAQI,UAAUE,WACnBN,QAAQI,UAAUE,UAAW,EAC7BN,QAAQI,UAAU6B,kBAK1BA,cAAe,WACPjC,QAAQI,UAAUE,WAClBN,QAAQI,UAAUC,OAAO6B,QAAQ,SAAUlB,GAClCA,EAAc,WAAMA,EAAKN,WAAY,GAAIQ,OAAOC,YACjDnB,QAAQI,UAAUmB,QAAQP,EAAKR,IAC3BQ,EAAKL,oBACLK,EAAKL,mBAAmBwB,KAAKvB,KAAMI,MAI3ChB,QAAQI,UAAUC,OAAO+B,OAAS,EAClCC,WAAW,WACPrC,QAAQI,UAAU6B,iBACpBjC,QAAQC,UAGVD,QAAQI,UAAUE,UAAW,IAMzCgC,OAAQ,WACJtC,QAAQI,UAAUE,UAAW,EAC7BN,QAAQI,UAAUC,YAI1BkC,QAAS,SAAS9B,EAAM+B,EAAUC,EAAiBC,EAASC,EAAUhC,GAClE,GAAIiC,IACAnC,KAAMA,EACNoC,GAAIL,EACJM,KAAMJ,EACNK,UAAWN,EACXE,SAAUA,EACVK,UAAWrC,EAEf,OAAOiC,IAsBX5B,KAAM,SAAUP,EAAMwC,EAASC,EAAWT,GACtC,YACA,IAAIU,GAAS,EACfD,IAAkC,gBAAdA,KACvBC,GAAS,GAAIjC,OAAOC,UAAY+B,EAE3B,IAAIE,GAAOpD,QAAQuC,QAAQ9B,EAAMwC,EAASR,EAAiBU,EAAQE,OAAWA,OAC9ErD,SAAQsD,WAAWF,IAgBvBG,QAAS,SAAU9C,EAAMwC,EAASN,EAAUa,GACxC,YACA,IAAIJ,GAAOpD,QAAQuC,QAAQ9B,EAAMwC,EAAS,aAAgB,GAAIN,EAAUa,EACxExD,SAAQsD,WAAWF,IASvB7B,QAAS,SAAUf,GACf,YACAR,SAAQI,UAAUmB,QAAQf,IAG9B8C,WAAY,SAAUF,GAElBf,WAAW,WACFrC,QAAQE,QAAQkD,EAAK3C,QACtBT,QAAQE,QAAQkD,EAAK3C,UAEzBT,QAAQE,QAAQkD,EAAK3C,MAAMY,KAAK+B,GAC3BpD,QAAQG,WACTH,QAAQG,UAAW,EACnBH,QAAQyD,SAEb,IAOPA,KAAM,WACF,YACA,IAAIC,IAAW,CAEf,KAAK,GAAIjD,KAAQT,SAAQE,QAAS,CAC9BwD,GAAW,CACX,IAAIC,GAAQ3D,QAAQE,QAAQO,EAC5B,IAAIkD,EAAMvB,OAAS,EAAG,CAClB,GAAIgB,GAAOO,EAAM,EACjB,IAAkB,KAAdP,EAAKN,OAAe,GAAI5B,OAAOC,UAAYiC,EAAKN,KAAM,CACtD,GAAItC,GAAKR,QAAQI,UAAUS,IAAIuC,EAAK3C,KAAM2C,EAAKT,SAAUS,EAAKJ,UAC1DxC,KACAmD,EAAMC,QACNR,EAAKP,GAAGrC,QAET,CACHmD,EAAMC,OACN,IAAIC,GAAM,+BAAiCT,EAAK3C,IAChD,KAAI2C,EAAKL,UAGL,KAAMc,EAFNT,GAAKL,UAAUc,eAOhB7D,SAAQE,QAAQO,GAG3BT,QAAQG,UAAYuD,EAEpBrB,WAAW,WACPrC,QAAQyD,QACTzD,QAAQC,UAGXD,QAAQG,UAAW,GAQ3BmC,OAAQ,WACJtC,QAAQG,UAAW,EACnBH,QAAQE,WACRF,QAAQI,UAAUkC,WAItBwB,OAASA,UACbA,QAAOC,QAAU/D"}