{"version":3,"file":"mutex.min.js","sources":["../mutex.js"],"names":["MutexJs","RETRY_MS","_queues","_running","Semaphore","_locks","_pruning","_lock","id","name","expiresAt","expirationCallback","this","get","expiresInMs","_beginPruning","unlocked","lock","_get","Date","getTime","_guid","push","release","filter","el","key","s4","Math","floor","random","toString","substring","_pruneExpired","forEach","call","setTimeout","_reset","queable","callback","timeoutCallback","maxWait","duration","q","fn","wait","onTimeout","onExpired","success","maxWaitMs","expiry","item","undefined","_queueItem","lockFor","onExpiration","_run","queue","length","shift","msg","module","exports"],"mappings":"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"}